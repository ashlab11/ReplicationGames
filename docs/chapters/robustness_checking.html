<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.113">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Replication game notebook: Colantone et al - 3&nbsp; Robustness checking and exploration</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: 1;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../chapters/writeup.html" rel="next">
<link href="../chapters/computational_replication_checking.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script><script async="" src="https://hypothes.is/embed.js"></script><script src="../site_libs/kePrint-0.0.1/kePrint.js"></script><link href="../site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>
</head>
<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }"><div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Robustness checking and exploration</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto"><div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">Replication game notebook: Colantone et al</a> 
        <div class="sidebar-tools-main">
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">Preface</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Overview and approach</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/computational_replication_checking.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Computational replication</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/robustness_checking.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Robustness checking and exploration</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../chapters/writeup.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">A comment on Colantone et al.&nbsp;(2024, APSR)</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
</div>
</nav><!-- margin-sidebar --><div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active"><h2 id="toc-title">Table of contents</h2>
   
  <ul>
<li><a href="#rates-of-voting-for-each-car-group-split-implication-for-identification" id="toc-rates-of-voting-for-each-car-group-split-implication-for-identification" class="nav-link active" data-scroll-target="#rates-of-voting-for-each-car-group-split-implication-for-identification"><span class="toc-section-number">3.1</span>  Rates of voting for each car group split: implication for identification</a></li>
  <li><a href="#main-results-table-2-recoded" id="toc-main-results-table-2-recoded" class="nav-link" data-scroll-target="#main-results-table-2-recoded"><span class="toc-section-number">3.2</span>  Main results (table 2, recoded)</a></li>
  <li><a href="#alternate-controltreatment-splits" id="toc-alternate-controltreatment-splits" class="nav-link" data-scroll-target="#alternate-controltreatment-splits"><span class="toc-section-number">3.3</span>  Alternate control/treatment splits</a></li>
  <li><a href="#functional" id="toc-functional" class="nav-link" data-scroll-target="#functional"><span class="toc-section-number">3.4</span>  Functional form</a></li>
  </ul></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content"><header id="title-block-header" class="quarto-title-block default"><div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title"><span id="robustness" class="quarto-section-identifier d-none d-lg-block"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Robustness checking and exploration</span></span></h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header><div class="cell">
<details><summary>Input cleaned data</summary><div class="sourceCode" id="cb1"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/trinker/pacman">pacman</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/pacman/man/p_load.html">p_load</a></span><span class="op">(</span><span class="va">tidyverse</span>, <span class="va">data.table</span>, <span class="va">haven</span>, <span class="va">glue</span>, <span class="va">Hmisc</span>, <span class="va">here</span>, <span class="va">fixest</span>, <span class="va">knitr</span>, <span class="va">kableExtra</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/rm.html">rm</a></span><span class="op">(</span>list<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/ls.html">ls</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/gc.html">gc</a></span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output cell-output-stdout">
<pre><code>          used (Mb) gc trigger  (Mb) limit (Mb) max used (Mb)
Ncells 1189471 63.6    2353322 125.7         NA  1691092 90.4
Vcells 2008778 15.4    8388608  64.0      32768  2750556 21.0</code></pre>
</div>
<details><summary>Input cleaned data</summary><div class="sourceCode" id="cb3"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># read in dta file, Clara likes working with data table format</span></span>
<span><span class="va">survey</span> <span class="op">=</span> <span class="fu">read_dta</span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"OriginalFiles"</span>, <span class="st">"Survey.dta"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">dts</span> <span class="op">=</span> <span class="fu">read_dta</span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html">here</a></span><span class="op">(</span><span class="st">"OriginalFiles"</span>, <span class="st">"Replication_Dataset.dta"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">data.table</span><span class="op">(</span><span class="op">)</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>We proposed a range of robustness tests. We were able to do a subset of these.</p>
<section id="rates-of-voting-for-each-car-group-split-implication-for-identification" class="level2" data-number="3.1"><h2 data-number="3.1" class="anchored" data-anchor-id="rates-of-voting-for-each-car-group-split-implication-for-identification">
<span class="header-section-number">3.1</span> Rates of voting for each car group split: implication for identification</h2>
<p>We [aimed to] present a simple comparison of the Lega voting rates, voting changes, and other outcomes by each car-ownership group. (see below on functional forms)</p>
</section><section id="main-results-table-2-recoded" class="level2" data-number="3.2"><h2 data-number="3.2" class="anchored" data-anchor-id="main-results-table-2-recoded">
<span class="header-section-number">3.2</span> Main results (table 2, recoded)</h2>
<div class="cell">
<details><summary>Table 2 recoded</summary><div class="sourceCode" id="cb4"><pre class="downlit sourceCode r code-with-copy"><code class="sourceCode R"><span><span class="co"># Table 2 ------</span></span>
<span></span>
<span><span class="co"># Keep the same choices made by the authors</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://lrberge.github.io/fixest/">fixest</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">mod1</span> <span class="op">=</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span><span class="va">vote_lega_euro</span> <span class="op">~</span> <span class="va">dummy_diesel</span> <span class="op">+</span> <span class="va">dummy_euro_4</span> <span class="op">+</span> <span class="va">dummy_diesel</span><span class="op">*</span><span class="va">dummy_euro_4</span>, </span>
<span>             data <span class="op">=</span> <span class="va">dts</span><span class="op">[</span><span class="va">target</span><span class="op">!=</span><span class="fl">3</span> <span class="op">&amp;</span> <span class="va">target</span><span class="op">!=</span><span class="fl">4</span> <span class="op">&amp;</span> <span class="va">no_answer_euro</span><span class="op">==</span><span class="fl">0</span>, <span class="op">]</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mod2</span> <span class="op">=</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span><span class="va">vote_lega_euro</span> <span class="op">~</span> <span class="va">dummy_diesel</span> <span class="op">+</span> <span class="va">dummy_euro_4</span> <span class="op">+</span> <span class="va">dummy_diesel</span><span class="op">*</span><span class="va">dummy_euro_4</span></span>
<span>             <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html">as.factor</a></span><span class="op">(</span><span class="va">female</span><span class="op">)</span> <span class="op">|</span> <span class="va">EDU1</span> <span class="op">+</span> <span class="va">EDU2</span> <span class="op">+</span> <span class="va">EDU3</span> <span class="op">+</span> <span class="va">EDU4</span> <span class="op">+</span> <span class="va">profile_gross_personal_eu</span>, </span>
<span>             data <span class="op">=</span> <span class="va">dts</span><span class="op">[</span><span class="va">target</span><span class="op">!=</span><span class="fl">3</span> <span class="op">&amp;</span> <span class="va">target</span><span class="op">!=</span><span class="fl">4</span> <span class="op">&amp;</span> <span class="va">no_answer_euro</span><span class="op">==</span><span class="fl">0</span>, <span class="op">]</span>,</span>
<span>             vcov <span class="op">=</span> <span class="st">"hetero"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mod3</span> <span class="op">=</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span><span class="va">vote_lega_euro</span> <span class="op">~</span> <span class="va">dummy_diesel_ass</span> <span class="op">+</span> <span class="va">dummy_euro_4_ass</span> <span class="op">+</span> <span class="va">diesel_euro4_ass</span></span>
<span>             <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">female</span> <span class="op">+</span> <span class="va">dummy_car_unknown</span> <span class="op">|</span> <span class="va">EDU1</span> <span class="op">+</span> <span class="va">EDU2</span> <span class="op">+</span> <span class="va">EDU3</span> <span class="op">+</span> <span class="va">EDU4</span> <span class="op">+</span> <span class="va">profile_gross_personal_eu</span>, </span>
<span>             data <span class="op">=</span> <span class="va">dts</span><span class="op">[</span><span class="va">target</span><span class="op">!=</span><span class="fl">3</span> <span class="op">&amp;</span> <span class="va">no_answer_euro</span><span class="op">==</span><span class="fl">0</span>, <span class="op">]</span>,</span>
<span>             vcov <span class="op">=</span> <span class="st">"hetero"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mod4</span> <span class="op">=</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span><span class="va">vote_lega_euro</span> <span class="op">~</span> <span class="va">dummy_diesel</span> <span class="op">+</span> <span class="va">dummy_euro_4</span> <span class="op">+</span> <span class="va">dummy_diesel</span><span class="op">*</span><span class="va">dummy_euro_4</span></span>
<span>             <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">female</span> <span class="op">+</span> <span class="va">vote_lega_2018</span> <span class="op">|</span> <span class="va">EDU1</span> <span class="op">+</span> <span class="va">EDU2</span> <span class="op">+</span> <span class="va">EDU3</span> <span class="op">+</span> <span class="va">EDU4</span> <span class="op">+</span> <span class="va">profile_gross_personal_eu</span>, </span>
<span>             data <span class="op">=</span> <span class="va">dts</span><span class="op">[</span><span class="va">target</span><span class="op">!=</span><span class="fl">3</span> <span class="op">&amp;</span> <span class="va">target</span><span class="op">!=</span><span class="fl">4</span> <span class="op">&amp;</span> <span class="va">no_answer_euro</span><span class="op">==</span><span class="fl">0</span> <span class="op">&amp;</span> <span class="va">no_answer_2018</span><span class="op">==</span><span class="fl">0</span>, <span class="op">]</span>,</span>
<span>             vcov <span class="op">=</span> <span class="st">"hetero"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mod5</span> <span class="op">=</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span><span class="va">vote_lega_euro</span> <span class="op">~</span> <span class="va">dummy_diesel</span> <span class="op">+</span> <span class="va">dummy_euro_4</span> <span class="op">+</span> <span class="va">dummy_diesel</span><span class="op">*</span><span class="va">dummy_euro_4</span></span>
<span>             <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">female</span> <span class="op">+</span> <span class="va">vote_lega_regional</span> <span class="op">|</span> <span class="va">EDU1</span> <span class="op">+</span> <span class="va">EDU2</span> <span class="op">+</span> <span class="va">EDU3</span> <span class="op">+</span> <span class="va">EDU4</span> <span class="op">+</span> <span class="va">profile_gross_personal_eu</span>, </span>
<span>             data <span class="op">=</span> <span class="va">dts</span><span class="op">[</span><span class="va">target</span><span class="op">!=</span><span class="fl">3</span> <span class="op">&amp;</span> <span class="va">target</span><span class="op">!=</span><span class="fl">4</span> <span class="op">&amp;</span> <span class="va">no_answer_euro</span><span class="op">==</span><span class="fl">0</span> <span class="op">&amp;</span> <span class="va">no_answer_regional</span><span class="op">==</span><span class="fl">0</span>, <span class="op">]</span>,</span>
<span>             vcov <span class="op">=</span> <span class="st">"hetero"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">mod6</span> <span class="op">=</span> <span class="fu"><a href="https://lrberge.github.io/fixest/reference/feols.html">feols</a></span><span class="op">(</span><span class="va">vote_lega_euro</span> <span class="op">~</span> <span class="va">dummy_diesel</span> <span class="op">+</span> <span class="va">dummy_euro_4</span> <span class="op">+</span> <span class="va">dummy_diesel</span><span class="op">*</span><span class="va">dummy_euro_4</span></span>
<span>             <span class="op">+</span> <span class="va">age</span> <span class="op">+</span> <span class="va">female</span> <span class="op">+</span> <span class="va">vote_lega_municipal</span> <span class="op">|</span> <span class="va">EDU1</span> <span class="op">+</span> <span class="va">EDU2</span> <span class="op">+</span> <span class="va">EDU3</span> <span class="op">+</span> <span class="va">EDU4</span> <span class="op">+</span> <span class="va">profile_gross_personal_eu</span>, </span>
<span>             data <span class="op">=</span> <span class="va">dts</span><span class="op">[</span><span class="va">target</span><span class="op">!=</span><span class="fl">3</span> <span class="op">&amp;</span> <span class="va">target</span><span class="op">!=</span><span class="fl">4</span> <span class="op">&amp;</span> <span class="va">no_answer_euro</span><span class="op">==</span><span class="fl">0</span> <span class="op">&amp;</span> <span class="va">no_answer_municipal</span><span class="op">==</span><span class="fl">0</span>, <span class="op">]</span>,</span>
<span>             vcov <span class="op">=</span> <span class="st">"hetero"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Save</span></span>
<span><span class="fu"><a href="https://lrberge.github.io/fixest/reference/etable.html">etable</a></span><span class="op">(</span><span class="va">mod1</span>,<span class="va">mod2</span>,<span class="va">mod3</span>,<span class="va">mod4</span>,<span class="va">mod5</span>,<span class="va">mod6</span>,</span>
<span>       keep <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"dummy_diesel"</span>, <span class="st">"dummy_euro_4"</span>, <span class="st">"diesel_euro4"</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">kable</span><span class="op">(</span>format <span class="op">=</span> <span class="st">"html"</span>, escape <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>      <span class="va">kable_styling</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details><div class="cell-output-display">

<table class="table" style="margin-left: auto; margin-right: auto;">
<thead><tr>
<th style="text-align:left;">  </th>
   <th style="text-align:left;"> mod1 </th>
   <th style="text-align:left;"> mod2 </th>
   <th style="text-align:left;"> mod3 </th>
   <th style="text-align:left;"> mod4 </th>
   <th style="text-align:left;"> mod5 </th>
   <th style="text-align:left;"> mod6 </th>
  </tr></thead>
<tbody>
<tr>
<td style="text-align:left;"> Dependent Var.: </td>
   <td style="text-align:left;"> vote_lega_euro </td>
   <td style="text-align:left;"> vote_lega_euro </td>
   <td style="text-align:left;"> vote_lega_euro </td>
   <td style="text-align:left;"> vote_lega_euro </td>
   <td style="text-align:left;"> vote_lega_euro </td>
   <td style="text-align:left;"> vote_lega_euro </td>
  </tr>
<tr>
<td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> dummy_diesel </td>
   <td style="text-align:left;"> -0.0932 (0.0575) </td>
   <td style="text-align:left;"> -0.1049. (0.0570) </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> -0.0237 (0.0365) </td>
   <td style="text-align:left;"> 0.0033 (0.0402) </td>
   <td style="text-align:left;"> -0.0007 (0.0487) </td>
  </tr>
<tr>
<td style="text-align:left;"> dummy_euro_4 </td>
   <td style="text-align:left;"> -0.0478 (0.0579) </td>
   <td style="text-align:left;"> -0.0481 (0.0595) </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> 0.0066 (0.0333) </td>
   <td style="text-align:left;"> 0.0263 (0.0364) </td>
   <td style="text-align:left;"> -0.0278 (0.0428) </td>
  </tr>
<tr>
<td style="text-align:left;"> dummy_diesel x dummy_euro_4 </td>
   <td style="text-align:left;"> 0.1195 (0.0768) </td>
   <td style="text-align:left;"> 0.1830* (0.0787) </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> 0.1148* (0.0468) </td>
   <td style="text-align:left;"> 0.0942. (0.0518) </td>
   <td style="text-align:left;"> 0.1456* (0.0601) </td>
  </tr>
<tr>
<td style="text-align:left;"> dummy_diesel_ass </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> -0.0819 (0.0553) </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> dummy_euro_4_ass </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> -0.0195 (0.0592) </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> diesel_euro4_ass </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;"> 0.1544* (0.0780) </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
   <td style="text-align:left;">  </td>
  </tr>
<tr>
<td style="text-align:left;"> Fixed-Effects: </td>
   <td style="text-align:left;"> ---------------- </td>
   <td style="text-align:left;"> ----------------- </td>
   <td style="text-align:left;"> ---------------- </td>
   <td style="text-align:left;"> ---------------- </td>
   <td style="text-align:left;"> ---------------- </td>
   <td style="text-align:left;"> ---------------- </td>
  </tr>
<tr>
<td style="text-align:left;"> EDU1 </td>
   <td style="text-align:left;"> No </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
  </tr>
<tr>
<td style="text-align:left;"> EDU2 </td>
   <td style="text-align:left;"> No </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
  </tr>
<tr>
<td style="text-align:left;"> EDU3 </td>
   <td style="text-align:left;"> No </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
  </tr>
<tr>
<td style="text-align:left;"> EDU4 </td>
   <td style="text-align:left;"> No </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
  </tr>
<tr>
<td style="text-align:left;"> profile_gross_personal_eu </td>
   <td style="text-align:left;"> No </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
   <td style="text-align:left;"> Yes </td>
  </tr>
<tr>
<td style="text-align:left;"> ___________________________ </td>
   <td style="text-align:left;"> ________________ </td>
   <td style="text-align:left;"> _________________ </td>
   <td style="text-align:left;"> ________________ </td>
   <td style="text-align:left;"> ________________ </td>
   <td style="text-align:left;"> ________________ </td>
   <td style="text-align:left;"> ________________ </td>
  </tr>
<tr>
<td style="text-align:left;"> S.E. type </td>
   <td style="text-align:left;"> IID </td>
   <td style="text-align:left;"> Heteroskeda.-rob. </td>
   <td style="text-align:left;"> Heterosked.-rob. </td>
   <td style="text-align:left;"> Heterosked.-rob. </td>
   <td style="text-align:left;"> Heterosked.-rob. </td>
   <td style="text-align:left;"> Heterosked.-rob. </td>
  </tr>
<tr>
<td style="text-align:left;"> Observations </td>
   <td style="text-align:left;"> 602 </td>
   <td style="text-align:left;"> 602 </td>
   <td style="text-align:left;"> 665 </td>
   <td style="text-align:left;"> 583 </td>
   <td style="text-align:left;"> 551 </td>
   <td style="text-align:left;"> 533 </td>
  </tr>
<tr>
<td style="text-align:left;"> R2 </td>
   <td style="text-align:left;"> 0.00499 </td>
   <td style="text-align:left;"> 0.13011 </td>
   <td style="text-align:left;"> 0.15288 </td>
   <td style="text-align:left;"> 0.60097 </td>
   <td style="text-align:left;"> 0.57668 </td>
   <td style="text-align:left;"> 0.49357 </td>
  </tr>
<tr>
<td style="text-align:left;"> Within R2 </td>
   <td style="text-align:left;"> -- </td>
   <td style="text-align:left;"> 0.05339 </td>
   <td style="text-align:left;"> 0.06408 </td>
   <td style="text-align:left;"> 0.56532 </td>
   <td style="text-align:left;"> 0.53752 </td>
   <td style="text-align:left;"> 0.44663 </td>
  </tr>
</tbody>
</table>
</div>
</div>
</section><section id="alternate-controltreatment-splits" class="level2" data-number="3.3"><h2 data-number="3.3" class="anchored" data-anchor-id="alternate-controltreatment-splits">
<span class="header-section-number">3.3</span> Alternate control/treatment splits</h2>
<p>I don’t think we did this</p>
</section><section id="functional" class="level2" data-number="3.4"><h2 data-number="3.4" class="anchored" data-anchor-id="functional">
<span class="header-section-number">3.4</span> Functional form</h2>
<p>The main outcome variable is binary 0/1. The authors consider linear models throughout. I (David Reinstein) believe their identification implicitly depends on</p>
<ul>
<li>each of the unmeasured underlying characteristics (picked up by the proxy control in ‘difference’) each being associated with the voting outcome linearly on ‘percentage point voting for Lega’ … so the each the</li>
</ul>
<p>But the treated and groups might have started from a different baseline level of voting for Lega (check this)</p>
<p>If the true model is nonlinear (e.g., proportional, or with ceiling effects), the results here may be misleading. E.g., suppose the true effect of the policy on voting was the same for each car-ownership group as a percentage of the initial vote. Inappropriately estimating a linear model would find a substantial ‘difference in difference’ between these groups, even though the effect did not interact with car ownership itself.</p>
<p><span class="citation" data-cites="chen_roth">Chen and Roth (<a href="../references.html#ref-chen_roth" role="doc-biblioref">2023</a>)</span> cite Wooldridge 2023</p>
<blockquote class="blockquote">
<p>An alternative identifying assumption is to impose that, in the absence of treatment, the percentage changes in the mean would have been the same for the treated and control group. As in Wooldridge (2023), this can be formalized using a “ratio” version of the parallel trends assumption,</p>
</blockquote>
<p>[ = ]</p>
<p>We probably don’t have time to test for proportional trends (as well as limited data for a powerful test). But it seems an equally-plausible model off-the cuff. Chen and Roth offer an estimation strategy</p>
<blockquote class="blockquote">
<p>Conveniently, this estimate can also be obtained using Poisson QMLE to estimate <span class="math inline">\(Y_{it} = \exp(\beta_0 + D_i \times Post_t \beta_1 + D_i\beta_2 + Post_t\beta_3)\epsilon_{it}\)</span></p>
</blockquote>
<blockquote class="blockquote">
<p>and then computing <span class="math inline">\(\hat{\theta}_{ATT\%} = \exp(\hat{\beta}_1) - 1 = -0.82\)</span> as shown in column (1) of Table 6.</p>
</blockquote>
<p>Estimate this as a logit model? Other specifications like proportional hazards? <a href="https://www.jonathandroth.com/assets/files/LogUniqueHOD0_Draft_Accepted.pdf#page=25.45">Roth recommends Quasi-poisson</a> See section 5.2, “A DiD setting: Sequeira (2016)”</p>
<p>We re-ran the model as a Poisson model. Results were qualitatively similar at a glance.</p>
<div class="cell">

</div>


<!-- -->

<div id="refs" class="references csl-bib-body hanging-indent" role="doc-bibliography" style="display: none">
<div id="ref-chen_roth" class="csl-entry" role="doc-biblioentry">
Chen, Jiafeng, and Jonathan Roth. 2023. <span>“<span class="nocase">Logs with Zeros? Some Problems and Solutions*</span>.”</span> <em>The Quarterly Journal of Economics</em> 139 (2): 891–936. <a href="https://doi.org/10.1093/qje/qjad054">https://doi.org/10.1093/qje/qjad054</a>.
</div>
</div>
</section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="../chapters/computational_replication_checking.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Computational replication</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../chapters/writeup.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">A comment on Colantone et al.&nbsp;(2024, APSR)</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb5" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu"># Robustness checking and exploration {#robustness}</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: input_data</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Input cleaned data"</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(pacman)</span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="fu">p_load</span>(tidyverse, data.table, haven, glue, Hmisc, here, fixest, knitr, kableExtra)</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="fu">rm</span>(<span class="at">list=</span><span class="fu">ls</span>())</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="fu">gc</span>()</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co"># read in dta file, Clara likes working with data table format</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>survey <span class="ot">=</span> <span class="fu">read_dta</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"OriginalFiles"</span>, <span class="st">"Survey.dta"</span>))</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>dts <span class="ot">=</span> <span class="fu">read_dta</span>(here<span class="sc">::</span><span class="fu">here</span>(<span class="st">"OriginalFiles"</span>, <span class="st">"Replication_Dataset.dta"</span>)) <span class="sc">%&gt;%</span> <span class="fu">data.table</span>()</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>We proposed a range of robustness tests. We were able to do a subset of these.</span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a><span class="fu">## Rates of voting for each car group split: implication for identification</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>We <span class="co">[</span><span class="ot">aimed to</span><span class="co">]</span> present a simple comparison of the Lega voting rates, voting changes, and other outcomes by each car-ownership group. (see below on functional forms)</span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a><span class="fu">## Main results (table 2, recoded)</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: recode_table_2</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-summary: "Table 2 recoded"</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a><span class="co"># Table 2 ------</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a><span class="co"># Keep the same choices made by the authors</span></span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(fixest)</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>mod1 <span class="ot">=</span> <span class="fu">feols</span>(vote_lega_euro <span class="sc">~</span> dummy_diesel <span class="sc">+</span> dummy_euro_4 <span class="sc">+</span> dummy_diesel<span class="sc">*</span>dummy_euro_4, </span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dts[target<span class="sc">!=</span><span class="dv">3</span> <span class="sc">&amp;</span> target<span class="sc">!=</span><span class="dv">4</span> <span class="sc">&amp;</span> no_answer_euro<span class="sc">==</span><span class="dv">0</span>, ])</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>mod2 <span class="ot">=</span> <span class="fu">feols</span>(vote_lega_euro <span class="sc">~</span> dummy_diesel <span class="sc">+</span> dummy_euro_4 <span class="sc">+</span> dummy_diesel<span class="sc">*</span>dummy_euro_4</span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>             <span class="sc">+</span> age <span class="sc">+</span> <span class="fu">as.factor</span>(female) <span class="sc">|</span> EDU1 <span class="sc">+</span> EDU2 <span class="sc">+</span> EDU3 <span class="sc">+</span> EDU4 <span class="sc">+</span> profile_gross_personal_eu, </span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dts[target<span class="sc">!=</span><span class="dv">3</span> <span class="sc">&amp;</span> target<span class="sc">!=</span><span class="dv">4</span> <span class="sc">&amp;</span> no_answer_euro<span class="sc">==</span><span class="dv">0</span>, ],</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>             <span class="at">vcov =</span> <span class="st">"hetero"</span>)</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>mod3 <span class="ot">=</span> <span class="fu">feols</span>(vote_lega_euro <span class="sc">~</span> dummy_diesel_ass <span class="sc">+</span> dummy_euro_4_ass <span class="sc">+</span> diesel_euro4_ass</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>             <span class="sc">+</span> age <span class="sc">+</span> female <span class="sc">+</span> dummy_car_unknown <span class="sc">|</span> EDU1 <span class="sc">+</span> EDU2 <span class="sc">+</span> EDU3 <span class="sc">+</span> EDU4 <span class="sc">+</span> profile_gross_personal_eu, </span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dts[target<span class="sc">!=</span><span class="dv">3</span> <span class="sc">&amp;</span> no_answer_euro<span class="sc">==</span><span class="dv">0</span>, ],</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>             <span class="at">vcov =</span> <span class="st">"hetero"</span>)</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>mod4 <span class="ot">=</span> <span class="fu">feols</span>(vote_lega_euro <span class="sc">~</span> dummy_diesel <span class="sc">+</span> dummy_euro_4 <span class="sc">+</span> dummy_diesel<span class="sc">*</span>dummy_euro_4</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>             <span class="sc">+</span> age <span class="sc">+</span> female <span class="sc">+</span> vote_lega_2018 <span class="sc">|</span> EDU1 <span class="sc">+</span> EDU2 <span class="sc">+</span> EDU3 <span class="sc">+</span> EDU4 <span class="sc">+</span> profile_gross_personal_eu, </span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dts[target<span class="sc">!=</span><span class="dv">3</span> <span class="sc">&amp;</span> target<span class="sc">!=</span><span class="dv">4</span> <span class="sc">&amp;</span> no_answer_euro<span class="sc">==</span><span class="dv">0</span> <span class="sc">&amp;</span> no_answer_2018<span class="sc">==</span><span class="dv">0</span>, ],</span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>             <span class="at">vcov =</span> <span class="st">"hetero"</span>)</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>mod5 <span class="ot">=</span> <span class="fu">feols</span>(vote_lega_euro <span class="sc">~</span> dummy_diesel <span class="sc">+</span> dummy_euro_4 <span class="sc">+</span> dummy_diesel<span class="sc">*</span>dummy_euro_4</span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>             <span class="sc">+</span> age <span class="sc">+</span> female <span class="sc">+</span> vote_lega_regional <span class="sc">|</span> EDU1 <span class="sc">+</span> EDU2 <span class="sc">+</span> EDU3 <span class="sc">+</span> EDU4 <span class="sc">+</span> profile_gross_personal_eu, </span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dts[target<span class="sc">!=</span><span class="dv">3</span> <span class="sc">&amp;</span> target<span class="sc">!=</span><span class="dv">4</span> <span class="sc">&amp;</span> no_answer_euro<span class="sc">==</span><span class="dv">0</span> <span class="sc">&amp;</span> no_answer_regional<span class="sc">==</span><span class="dv">0</span>, ],</span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>             <span class="at">vcov =</span> <span class="st">"hetero"</span>)</span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>mod6 <span class="ot">=</span> <span class="fu">feols</span>(vote_lega_euro <span class="sc">~</span> dummy_diesel <span class="sc">+</span> dummy_euro_4 <span class="sc">+</span> dummy_diesel<span class="sc">*</span>dummy_euro_4</span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>             <span class="sc">+</span> age <span class="sc">+</span> female <span class="sc">+</span> vote_lega_municipal <span class="sc">|</span> EDU1 <span class="sc">+</span> EDU2 <span class="sc">+</span> EDU3 <span class="sc">+</span> EDU4 <span class="sc">+</span> profile_gross_personal_eu, </span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>             <span class="at">data =</span> dts[target<span class="sc">!=</span><span class="dv">3</span> <span class="sc">&amp;</span> target<span class="sc">!=</span><span class="dv">4</span> <span class="sc">&amp;</span> no_answer_euro<span class="sc">==</span><span class="dv">0</span> <span class="sc">&amp;</span> no_answer_municipal<span class="sc">==</span><span class="dv">0</span>, ],</span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>             <span class="at">vcov =</span> <span class="st">"hetero"</span>)</span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a><span class="co"># Save</span></span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a><span class="fu">etable</span>(mod1,mod2,mod3,mod4,mod5,mod6,</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>       <span class="at">keep =</span> <span class="fu">c</span>(<span class="st">"dummy_diesel"</span>, <span class="st">"dummy_euro_4"</span>, <span class="st">"diesel_euro4"</span>)) <span class="sc">%&gt;%</span></span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>  <span class="fu">kable</span>(<span class="at">format =</span> <span class="st">"html"</span>, <span class="at">escape =</span> <span class="cn">FALSE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>      kable_styling</span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a><span class="fu">## Alternate control/treatment splits</span></span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a>I don't think we did this</span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a><span class="fu">## Functional form {#functional}</span></span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a>The main outcome variable is binary 0/1. The authors consider linear models throughout. I (David Reinstein) believe their identification implicitly depends on</span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a><span class="ss">-   </span>each of the unmeasured underlying characteristics (picked up by the proxy control in 'difference') each being associated with the voting outcome linearly on 'percentage point voting for Lega' ... so the each the</span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a>But the treated and groups might have started from a different baseline level of voting for Lega (check this)</span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a>If the true model is nonlinear (e.g., proportional, or with ceiling effects), the results here may be misleading. E.g., suppose the true effect of the policy on voting was the same for each car-ownership group as a percentage of the initial vote. Inappropriately estimating a linear model would find a substantial 'difference in difference' between these groups, even though the effect did not interact with car ownership itself.</span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a>@chen_roth cite Wooldridge 2023 </span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; An alternative identifying assumption is to impose that, in the absence of treatment, the percentage changes in the mean would have been the same for the treated and control group. As in Wooldridge (2023), this can be formalized using a “ratio” version of the parallel trends assumption,</span></span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a><span class="sc">\[</span></span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a>\frac{E<span class="co">[</span><span class="ot">Y_{it}(0) | D_i = 1, Post_t = 1</span><span class="co">]</span>}{E<span class="co">[</span><span class="ot">Y_{it}(0) | D_i = 1, Post_t = 0</span><span class="co">]</span>} = \frac{E<span class="co">[</span><span class="ot">Y_{it}(0) | D_i = 0, Post_t = 1</span><span class="co">]</span>}{E<span class="co">[</span><span class="ot">Y_{it}(0) | D_i = 0, Post_t = 0</span><span class="co">]</span>}</span>
<span id="cb5-100"><a href="#cb5-100" aria-hidden="true" tabindex="-1"></a><span class="sc">\]</span></span>
<span id="cb5-101"><a href="#cb5-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-102"><a href="#cb5-102" aria-hidden="true" tabindex="-1"></a>We probably don't have time to test for proportional trends (as well as limited data for a powerful test). But it seems an equally-plausible model off-the cuff. Chen and Roth offer an estimation strategy </span>
<span id="cb5-103"><a href="#cb5-103" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-104"><a href="#cb5-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-105"><a href="#cb5-105" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; Conveniently, this estimate can also be obtained using Poisson QMLE to estimate  $Y_{it} = \exp(\beta_0 + D_i \times Post_t \beta_1 + D_i\beta_2 + Post_t\beta_3)\epsilon_{it}$ </span></span>
<span id="cb5-106"><a href="#cb5-106" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-107"><a href="#cb5-107" aria-hidden="true" tabindex="-1"></a><span class="at">&gt; and then computing $\hat{\theta}_{ATT\%} = \exp(\hat{\beta}_1) - 1 = -0.82$ as shown in column (1) of Table 6.</span></span>
<span id="cb5-108"><a href="#cb5-108" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-109"><a href="#cb5-109" aria-hidden="true" tabindex="-1"></a>Estimate this as a logit model? Other specifications like proportional hazards? <span class="co">[</span><span class="ot">Roth recommends Quasi-poisson</span><span class="co">](https://www.jonathandroth.com/assets/files/LogUniqueHOD0_Draft_Accepted.pdf#page=25.45)</span> See section 5.2, "A DiD setting: Sequeira (2016)"</span>
<span id="cb5-110"><a href="#cb5-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-111"><a href="#cb5-111" aria-hidden="true" tabindex="-1"></a>We re-ran the model as a Poisson model. Results were qualitatively similar at a glance. </span>
<span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>